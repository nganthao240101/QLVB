
@{
    ViewBag.Title = "createVBdi";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Create</title>
</head>
<body>
    <div class="card shadow mb-4">
        <div class="card-header py-3">
            <h6 class="m-0 font-weight-bold text-primary">Thêm mới văn bản đi</h6>
        </div>
        <div class="card-body">
            <div class="container-fluid">
                <form method="post" enctype="multipart/form-data" action="/VanBanDi/addVBdi">

                    <div class="row">
                        <div class="col-4">
                            <div class="form-group">
                                <label>Số văn bản</label>
                                <input class="form-control" type="text" value="" name="SoVanBan" id="SoVanBan" disabled/>
                            </div>
                            <div class="form-group">
                                <label>Ngày văn bản</label>
                                <input class="form-control" type="date" name="NgayVanBan" id="NgayVanBan" />
                            </div>
                            <div class="form-group">
                                <label>Ký hiệu văn bản</label>
                                <input class="form-control" type="text" name="KyHieuVanBan" id="KyHieuVanBan" />
                            </div>
                            <div class="form-group">
                                <label>Đơn vị nhân</label>
                                <input class="form-control" type="text" name="DonViNhan" id="DonViNhan" />
                            </div>
                            <div class="form-group">
                                <label for="NgonNgu">Ngôn ngữ</label>
                                <select class="form-control" name="NgonNgu" id="NgonNgu">
                                    <option value="null" selected>--Chọn--</option>
                                    <option value="Tiếng Anh">Tiếng Anh</option>
                                    <option value="Tiếng Việt">Tiếng Việt</option>
                                </select>
                            </div>


                        </div>
                        <div class="col-4">
                            <div class="form-group">
                                <label for="TrangThai">Trạng thái</label>
                                <input class="form-control" type="text" value="Dự thảo" name="TrangThai" id="TrangThai" />
                            </div>
                            <div class="form-group">
                                <label>Số bản</label>
                                <input class="form-control" type="text" name="SoBan" id="SoBan" />
                            </div>
                            <div class="form-group">
                                <label>Họ tên người ký</label>
                                <input class="form-control" type="text" name="HoTenNguoiKy" id="HotenNguoiKy" />
                            </div>
                            <div class="form-group">
                                <label for="LinhVuc">Lĩnh vực</label>
                                <select class="form-control" name="MaLinhVuc" id="LinhVuc">
                                    <option selected value="null">--Chọn--</option>
                                    <option value="1">Chính trị</option>
                                    <option value="2">Quân sự - Hành chính</option>
                                    <option value="3">Hậu cần - Kĩ thuật</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="DoKhan">Độ khẩn</label>
                                <select class="form-control" name="MaDoKhan" id="DoKhan">
                                    <option value="null" selected>--Chọn--</option>
                                    <option value="1">Hỏa tốc</option>
                                    <option value="2">Thượng khẩn</option>
                                    <option value="3">Khẩn</option>
                                </select>
                            </div>

                        </div>
                        <div class="col-4">
                            <div class="form-group">
                                <label>Số hồ sơ</label>
                                <input class="form-control" type="text" name="SoHoSo" id="SoHoSo" />
                            </div>
                            <div class="form-group">
                                <label>Số tờ</label>
                                <input class="form-control" type="text" name="SoTo" id="SoTo" />
                            </div>
                            <div class="form-group">
                                <label>Chức vụ người ký</label>
                                <input class="form-control" type="text" name="ChucVuNguoiKy" id="ChucVuNguoiKy" />
                            </div>
                            <div class="form-group">
                                <label for="LoaiVanBan">Loại văn bản</label>
                                <select class="form-control" name="MaLoaiVanBan" id="LoaiVanBan">
                                    <option value="null" selected>--Chọn--</option>
                                    <option value="1">Nghị quyết</option>
                                    <option value="2">Quyết định</option>
                                    <option value="3">Chỉ thị</option>
                                    <option value="4">Thông báo</option>
                                    <option value="5">Công văn</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="DoMat">Độ mật</label>
                                <select class="form-control" name="MaDoMat" id="DoMat">
                                    <option value="null" selected>--Chọn--</option>
                                    <option value="1">Tuyệt mật</option>
                                    <option value="2">Tối mật</option>
                                    <option value="3">Mật</option>


                                </select>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="form-group">
                                <label>Ghi chú</label>
                                <input class="form-control" type="text" name="GhiChu" id="GhiChu" />
                            </div>
                            <div class="form-group">
                                <label>Trích yếu</label>
                                <textarea class="form-control" rows="3" name="TrichYeu" id="TrichYeu"></textarea>
                            </div>
                            <div class="form-group">
                                <label>File đính kèm</label>
                                <input type="file" name="file" class="form-control-file" id="file" />
                            </div>
                            <button type="submit" class="btn btn-success btn-sm">Nhập mới</button>
                            <a href="@Url.Action("GetList", "VanBanDen")"><i class="btn btn-warning btn-sm">Quay lại</i></a>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</body>
</html>
<script>
    const addVb = () => {
        const SoVanBan = $('#SoVanBan').val();
        const NgayVanBan = $('#NgayVanBan').val();
        const KyHieuVanBan = $('#KyHieuVanBan').val();
        const DonViNhan = $('#DonViNhan').val();
        const NgonNgu = $('#NgonNgu').val();
        const DoMat = $('#DoMat').val();
        const TrangThai = $('#TrangThai').val();

        const SoBan = $('#SoBan').val();
        const HoTenNguoiKy = $('#HoTenNguoiKy').val();

        const LinhVuc = $('#LinhVuc').val();
        const DoKhan = $('#DoKhan').val();


        const SoTo = $('#SoTo').val();
        const ChucVuNguoiKy = $('#ChucVuNguoiKy').val();
        const SoHoSo = $('#SoHoSo').val();
        const LoaiVanBan = $('#LoaiVanBan').val();

        const GhiChu = $('#GhiChu').val();
        const TrichYeu = $('#TrichYeu').val();

        $.ajax({
            type: "POST",
            url: "/VanBanDi/addVBdi",
            data: {
                SoVanBan, NgayVanBan, KyHieuVanBan,DonViNhan, NgonNgu, DoMat, SoBan, HoTenNguoiKy,
           SoBan, HoTenNguoiKy, LinhVuc, DoKhan, TrangThai,SoTo, ChucVuNguoiKy, SoHoSo, LoaiVanBan, GhiChu, TrichYeu
        },
            success: function (data) {
                alert('Thêm mới thành công')
                window.location = data.url;


            },
            error: function (data) {
                alert('Thêm mới không thành công')
            }

                })
            }
</script>

